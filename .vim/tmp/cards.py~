from random import randint
from math import factorial as f

cards = ['1']*3 + ['2']*3 + ['3']*3 + ['4']*3 + ['D']*3
seen = []
countD = 3

def take_one():
    p = nCk(15 - len(seen) - countD, 1)/nCk(len(cards), 1)
    c = randint(0, len(cards)-1)
    card = cards.pop(c)
    return ([card], p)

def take_two_sep():
    p_top = nCk(15 - len(seen) - countD, 2)/nCk(len(cards), 2)
    t1c, t1p = take_one()
    t2c, t2p = take_one()
    return (t1c + t2c, t1p*t2p, p_top)

def nCk(n, k):
    return (f(n)/float(f(k)*f(n-k)))

if __name__=="__main__":
    my_hand, p_sep, p_tog = take_two_sep()
    seen += my_hand
    countD = seen.count('D')
    op_hand, p_sep, p_tog = take_two_sep()
    print p_sep, p_tog

    while (len(cards) != 0):
        my_hand.pop()
        seen.append(op_hand.pop())
        res = take_one()
        my_hand += res[0]
        seen += res[0]
        countD = seen.count('D')
        res = take_one()
        op_hand += res[0]
        print res[1]

